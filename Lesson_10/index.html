<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../css/style.css">
	<link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">
	<title>Lesson 10</title>
</head>

<body>
	<div class="wrapper">
		<h1 class="section">Tasks of lesson 10</h1>
		<div class="section">

			<h2>Дано історію цін на цінні папери за деякий період (згенерувати від 1 до 10000)
				<script>
					let arrayStocksPrice = [];
					for (let i = 0; i < 10; i++) {
						arrayStocksPrice.push(1 + Math.floor(Math.random() * 10000))
					}
					document.write(arrayStocksPrice)
				</script>
			</h2>

			<ol>
				<li>Сформувати новий масив, у якому є тільки ті, що більші за 1000 грн.
					<script>
						let pricesOver1000 = arrayStocksPrice.filter(price => price > 1000)
						document.write(pricesOver1000)
					</script>
				</li>

				<li>Сформувати новий масив, у якому є номери тільки тих, що більші за 1000 грн.
					<script>
						let indexOver1000 = arrayStocksPrice.reduce((arr, price, i) => {
							if (price > 1000) {
								arr.push(i)
							}
							return arr
						}, [])
						document.write(indexOver1000)
					</script>
				</li>

				<li>Сформувати список з тих цін, які більші за попереднє значення
					<script>
						let pricesOverPrev = arrayStocksPrice.filter((price, i, arr) => price > arr[i - 1] && i > 0)
						document.write(pricesOverPrev)
					</script>
				</li>

				<li>Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального
					<script>
						let maxPrice = arrayStocksPrice.reduce((max, price) =>
							price > max ? price : max
							, -Infinity)
						let percentFormMaxPrice = arrayStocksPrice.map(price => price / maxPrice * 100)
						for (const percent of percentFormMaxPrice) {
							document.write(`${percent.toFixed(0)}% `)
						}
					</script>
				</li>

				<li>Підрахувати кількість змін цін
					<script>
						let countChangePrice = arrayStocksPrice.reduce((count, price, i, arr) => {
							if (price - arr[i - 1] !== 0 && i > 0) {
								count += 1
							} return count
						}, 0)
						document.write(countChangePrice)
					</script>
				</li>

				<li>Визначити, чи є ціна, що менше 1000
					<script>
						let ifPriceLess1000 = arrayStocksPrice.some(price => price < 1000)
						document.write(ifPriceLess1000)
					</script>
				</li>

				<li>Визначати, чи усі ціни більше за 1000
					<script>
						let ifAllPriceOver1000 = arrayStocksPrice.every(price => price > 1000)
						document.write(ifAllPriceOver1000)
					</script>
				</li>

				<li>Підрахувати кількість цін, що більше за 1000
					<script>
						let countPricesOver1000 = arrayStocksPrice.reduce((count, price) => {
							if (price > 1000) {
								count += 1
							} return count
						}, 0)
						document.write(countPricesOver1000)
					</script>
				</li>

				<li>Підрахувати суму цін, що більше за 1000
					<script>
						let sumPricesOver1000 = arrayStocksPrice.reduce((sum, price) => {
							if (price > 1000) {
								sum += price
							} return sum
						}, 0)
						document.write(sumPricesOver1000)
					</script>
				</li>

				<li>Знайти першу ціну, що більше за 1000
					<script>
						let firstPriceOver1000 = arrayStocksPrice.find(price => price > 1000)
						document.write(firstPriceOver1000)
					</script>
				</li>

				<li>Знайти індекс першої ціни, що більше за 1000
					<script>
						let indexFirstPriceOver1000 = arrayStocksPrice.findIndex(price => price > 1000)
						document.write(indexFirstPriceOver1000)
					</script>
				</li>

				<li>Знайти останню ціну, що більше за 1000
					<script>
						let lastPriceOver1000 = arrayStocksPrice.findLast(price => price > 1000)
						document.write(lastPriceOver1000)
					</script>
				</li>

				<li>Знайти індекс останньої ціни, що більше за 1000
					<script>
						let indexLastPriceOver1000 = arrayStocksPrice.findLastIndex(price => price > 1000)
						document.write(indexLastPriceOver1000)
					</script>
				</li>
			</ol>

		</div>
	</div>
</body>

</html>