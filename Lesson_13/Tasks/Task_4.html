<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="../../css/style.css">
	<title>Lesson 13 - Task 4</title>
</head>

<body>
	<h1 class="section">Задача 4</h1>
	<div class="section">
		<h2>
			З використанням замикань розробити ітератор, тобто функцію, що буде поступово за окремими викликами видавати
			по одну
			букву наперед заданого слова. З використанням нього розробити гру «Прекладач». Виводимо для користувача опис
			цього слова
			і по одну букву користувач вводить переклад цього слова. Підрахувати кількість вгаданих букв.
		</h2>
	</div>
	<div class="section">
		<h2>Відповідь</h2>
		<script>

			function getRightLetters(word) {
				let rightLetterIndex = -1;
				function letterIterator() {
					rightLetterIndex++;
					if (rightLetterIndex === word.length) rightLetterIndex = 0;
					return word[rightLetterIndex]
				}
				return letterIterator
			}

			function getTranslate(word, description) {
				let taskInfo = alert(`Перекладіть англійською мовою: ${description} (${word.length} букв)`),
					countRightLetters = 0,
					wordUserEntered = '',
					rightLetter = getRightLetters(word);
				for (let letter = 0; letter < word.length; letter++) {
					let letterUserEntered = prompt(`Введіть ${letter + 1} букву перекладу`).toLowerCase();
					if (letterUserEntered == rightLetter()) {
						countRightLetters++
					}
					wordUserEntered += letterUserEntered;
				}
				return [wordUserEntered, countRightLetters]
			}

			let words = [
				'spring',
				'red'],
				descriptions = [
					'Oдна з чотирьох пір року між зимою та літом, характерна для помірних широт',
					'Один з трьох «основних» кольорів в системі RGB'];

			for (let i = 0; i < words.length; i++) {
				let resultTranslate = getTranslate(words[i], descriptions[i]);
				document.write(`
					<p>Переклад слова: ${words[i]}.</p>
					<p>Ви ввели букви: ${resultTranslate[0]}.</p>
					<p>Кількість правильно вгаданих букв: ${resultTranslate[1]}.</p>`)
			}

		</script>

	</div>
</body>

</html>